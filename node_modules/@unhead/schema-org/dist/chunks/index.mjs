import { d as defineSchemaOrgResolver, e as resolveRelation, a6 as setIfEmpty, ac as asArray } from '../shared/schema-org.Cp6bpwL2.mjs';
import { offerResolver } from './index23.mjs';
import 'unhead/plugins';
import 'unhead/utils';
import 'ufo';
import '../shared/schema-org.Dg61qWpa.mjs';

const aggregateOfferResolver = defineSchemaOrgResolver({
  defaults: {
    "@type": "AggregateOffer"
  },
  inheritMeta: [
    { meta: "currency", key: "priceCurrency" }
  ],
  resolve(node, ctx) {
    node.offers = resolveRelation(node.offers, ctx, offerResolver);
    if (node.offers)
      setIfEmpty(node, "offerCount", asArray(node.offers).length);
    return node;
  }
});

export { aggregateOfferResolver };
